
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>cleansing package &#8212; FiNN  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FiNN  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">cleansing package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="cleansing-package">
<h1>cleansing package<a class="headerlink" href="#cleansing-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-cleansing.bad_channel_identification">
<span id="cleansing-bad-channel-identification-module"></span><h2>cleansing.bad_channel_identification module<a class="headerlink" href="#module-cleansing.bad_channel_identification" title="Permalink to this headline">¶</a></h2>
<p>Created on Jun 2, 2020</p>
<dl class="field-list simple">
<dt class="field-odd">author</dt>
<dd class="field-odd"><p>voodoocode</p>
</dd>
</dl>
<dl class="py function">
<dt id="cleansing.bad_channel_identification.run">
<code class="sig-prename descclassname">cleansing.bad_channel_identification.</code><code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">ch_names</span></em>, <em class="sig-param"><span class="n">fs</span></em>, <em class="sig-param"><span class="n">ref_areas</span><span class="o">=</span><span class="default_value">[[105, 120], [135, 145], [155, 195]]</span></em>, <em class="sig-param"><span class="n">broadness</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">visual_inspection</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleansing.bad_channel_identification.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Identifices which channel have substantially more or less power in frequency ranges defined by ref_areas. Channels whose power is more different than broadness (default: 3) standard deviations will be primed as faulty channels. In case visual inspection is active (default: True), the automatic results can be further refined via manual selection.</p>
<p>Attention: Function is parallelized. Outside parallelization may result in expected behaviour.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – input data in the format channel x samples</p></li>
<li><p><strong>ch_names</strong> – names of the channels. Used for visualization purposes only. Order has to match the channel order of data</p></li>
<li><p><strong>fs</strong> – list of sampling frequencies for each channel</p></li>
<li><p><strong>ref_areas</strong> – spectral reference areas used for power estimation. Only power within these ranges is defined. It is recommended to choose ranges, which are not part of any evaluation to decrease the chances of pre-processing induced biases.</p></li>
<li><p><strong>broadness</strong> – Number of standard deviations threshold by which channels are categorized as faulty.</p></li>
<li><p><strong>visual_inspection</strong> – Toggles visual inspection on and off.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(valid_list, invalid_list, score). List of valid channels, invalid channels and their respective z-scores.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-cleansing.channel_restoration">
<span id="cleansing-channel-restoration-module"></span><h2>cleansing.channel_restoration module<a class="headerlink" href="#module-cleansing.channel_restoration" title="Permalink to this headline">¶</a></h2>
<p>Created on Jun 2, 2020</p>
<dl class="field-list simple">
<dt class="field-odd">author</dt>
<dd class="field-odd"><p>voodoocode</p>
</dd>
</dl>
<dl class="py function">
<dt id="cleansing.channel_restoration.run">
<code class="sig-prename descclassname">cleansing.channel_restoration.</code><code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">ch_names</span></em>, <em class="sig-param"><span class="n">bad_ch_idx_list</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleansing.channel_restoration.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores channel by averaging signals from their respective neighbors. In case neighboring channels are flagged as bad, channels get iteratively restored, from the channel with the most valid neighbors to the channel with the least. Restored channels are considered valid candidates for channel reconstruction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – input data in the format channels x samples</p></li>
<li><p><strong>ch_names</strong> – Names of the channles from the input data. Order needs to be aligned with the channel order of ch_names.</p></li>
<li><p><strong>bad_ch_idx_list</strong> – List of bad channels with are selected for substitution by their neighbors.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Restored channels in the format channels x samples.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-cleansing.outlier_removal">
<span id="cleansing-outlier-removal-module"></span><h2>cleansing.outlier_removal module<a class="headerlink" href="#module-cleansing.outlier_removal" title="Permalink to this headline">¶</a></h2>
<p>Created on Jun 12, 2018</p>
<dl class="field-list simple">
<dt class="field-odd">author</dt>
<dd class="field-odd"><p>voodoocode</p>
</dd>
</dl>
<dl class="py function">
<dt id="cleansing.outlier_removal.run">
<code class="sig-prename descclassname">cleansing.outlier_removal.</code><code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">ref</span></em>, <em class="sig-param"><span class="n">max_std_dist</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">min_samp_cnt</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleansing.outlier_removal.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes any sample more distant from the mean than max_std_dist standard deviations. Terminates if either all samples are within
the threshold or if the minimal sample count defined by min_samp_cnt is reached.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – Input data</p></li>
<li><p><strong>ref</strong> – Single dimensional reference data</p></li>
<li><p><strong>maxStdDist</strong> – Threshold for outlier detection. Number of standard deviations permissible.</p></li>
<li><p><strong>min_samp_cnt</strong> – Minimal viable sample count. Terminates if reduced below this number or the current iteration would reduce below this number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered array without outlier more different than n standard deviations.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-cleansing">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-cleansing" title="Permalink to this headline">¶</a></h2>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">cleansing package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-cleansing.bad_channel_identification">cleansing.bad_channel_identification module</a></li>
<li><a class="reference internal" href="#module-cleansing.channel_restoration">cleansing.channel_restoration module</a></li>
<li><a class="reference internal" href="#module-cleansing.outlier_removal">cleansing.outlier_removal module</a></li>
<li><a class="reference internal" href="#module-cleansing">Module contents</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/cleansing.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FiNN  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">cleansing package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, VoodooCode.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>